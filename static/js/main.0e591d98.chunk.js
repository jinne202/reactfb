(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},26:function(e,a,t){e.exports=t(59)},31:function(e,a,t){},32:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t.n(n),o=t(14),l=t.n(o),i=(t(31),t(22)),c=t.n(i),s=(t(32),t(25)),m=t(7),u=t(8),d=t(10),f=t(9),p=t(11),h=t(12),v=t(23),b=t.n(v).a.initializeApp({apiKey:"AIzaSyCo5fV6tRvhkxaHVMEiRuc3GDAALutexHw",authDomain:"pagebook-688d8.firebaseapp.com",databaseURL:"https://pagebook-688d8.firebaseio.com",projectId:"pagebook-688d8",storageBucket:"pagebook-688d8.appspot.com",messagingSenderId:"278198920030",appId:"1:278198920030:web:057613a85867e7a6"}).firestore(),g=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(f.a)(a).call(this,e))).addUser=function(){var e=Object(s.a)({},t.state.formValues,{uid:(new Date).getTime()});b.collection("users").doc(e.uid.toString()).set(e).then(function(){h.NotificationManager.success("A new user has been added","Success"),window.location="/"}).catch(function(e){h.NotificationManager.error(e.message,"Create user failed"),t.setState({isSubmitting:!1})})},t.handleSubmit=function(e){e.preventDefault(),t.setState({isSubmitting:!0});var a=t.state,n=a.formValues,r=a.formValidity;if(Object.values(r).every(Boolean))t.addUser();else{for(var o in n){var l={name:o,value:n[o]};t.handleValidation(l)}h.NotificationManager.error("Please check on the validation message below form fields","Validation error"),t.setState({isSubmitting:!1})}},t.handleChange=function(e){var a=e.target,n=t.state.formValues;n[a.name]=a.value,t.setState({formValues:n}),t.handleValidation(a)},t.handleValidation=function(e){var a=e.name,n=e.value,r=t.state.formErrors,o=t.state.formValidity;"image"===a||(o[a]=n.length>0,r[a]=o[a]?"":"".concat(a," is required and cannot be empty")),t.setState({formErrors:r,formValidity:o})},t.state={formValues:{name:"",role:""},formErrors:{name:"",role:""},formValidity:{name:!1,role:!1},isSubmitting:!1},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.state,a=e.formValues,t=e.formErrors,n=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h1",{className:"mt-5"},"Register New Person"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",className:"form-control ".concat(t.name?"is-invalid":""),placeholder:"Enter name",onChange:this.handleChange,value:a.name}),r.a.createElement("div",{className:"invalid-feedback"},t.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Role"),r.a.createElement("input",{type:"text",name:"role",className:"form-control ".concat(t.role?"is-invalid":""),placeholder:"Enter role",onChange:this.handleChange,value:a.role}),r.a.createElement("div",{className:"invalid-feedback"},t.role)),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",disabled:n},n?"Please wait...":"Submit")))))}}]),a}(r.a.Component),E=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(f.a)(a).call(this,e))).state={users:[]},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.collection("users").get().then(function(a){var t=a.docs.map(function(e){return e.data()});console.log(t),e.setState({users:t})})}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement("div",{className:"row"},e.map(function(e){return r.a.createElement("div",{key:e.uid,className:"col-lg-6 col-md-6 col-s-12 mb-4"},r.a.createElement("div",{className:"card h-100"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,e.name),r.a.createElement("h6",null,e.role)))))}))}}]),a}(r.a.Component);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(E,null),r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:c.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.0e591d98.chunk.js.map